# ğŸ® é›™äººå°æˆ° 3D è¸©åœ°é›·éŠæˆ²

<div align="center">

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Node](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)

**ä¸€æ¬¾ä½¿ç”¨ Three.js æ‰“é€ çš„ 3D è¦–è¦ºæ•ˆæœé›™äººå°æˆ°è¸©åœ°é›·éŠæˆ²**

*é€é Socket.IO å¯¦ç¾å³æ™‚å¤šäººé€£ç·šå°æˆ°*

[éŠæˆ²è¦å‰‡](#-éŠæˆ²è¦å‰‡) â€¢
[å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹) â€¢
[å°ˆæ¡ˆæ¶æ§‹](#-å°ˆæ¡ˆæ¶æ§‹) â€¢
[æŠ€è¡“ç´°ç¯€](#-æŠ€è¡“ç´°ç¯€) â€¢
[è¨­å®šèª¿æ•´](#-è¨­å®šèª¿æ•´)

</div>

---

## ğŸ“– éŠæˆ²ç°¡ä»‹

é€™æ˜¯ä¸€æ¬¾å‰µæ–°çš„é›™äººå°æˆ°è¸©åœ°é›·éŠæˆ²ï¼Œçµåˆå‚³çµ±è¸©åœ°é›·çš„ç­–ç•¥æ€§èˆ‡å³æ™‚å°æˆ°çš„åˆºæ¿€æ„Ÿã€‚ç©å®¶è¼ªæµæ­é–‹æ ¼å­ï¼Œè©¦åœ–å°‡ã€Œåœ°é›·é™·é˜±ã€ç•™çµ¦å°æ‰‹ï¼Œè¸©åˆ°åœ°é›·è€…è½æ•—ï¼

### âœ¨ éŠæˆ²ç‰¹è‰²

- ğŸ² **å›åˆåˆ¶å°æˆ°**ï¼šç­–ç•¥æ€§å‚³éå›åˆï¼ŒæŠŠé¢¨éšªç•™çµ¦å°æ‰‹
- ğŸŒ **å³æ™‚é€£ç·š**ï¼šé€éæˆ¿é–“ä»£ç¢¼é‚€è«‹å¥½å‹å°æˆ°
- ğŸ¨ **3D è¦–è¦ºæ•ˆæœ**ï¼šç²¾ç¾çš„ Three.js 3D æ¸²æŸ“å ´æ™¯
- ğŸ’£ **çˆ†ç‚¸ç‰¹æ•ˆ**ï¼šè¸©åˆ°åœ°é›·æ™‚çš„è¯éº—çˆ†ç‚¸å‹•ç•«
- â±ï¸ **å›åˆè¨ˆæ™‚**ï¼šé™æ™‚æ±ºç­–ï¼Œå¢åŠ éŠæˆ²ç·Šå¼µæ„Ÿ
- ğŸš© **æ¨™è¨˜ç³»çµ±**ï¼šå³éµæ¨™è¨˜å¯ç–‘çš„åœ°é›·ä½ç½®
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šæ”¯æ´å„ç¨®è¢å¹•å°ºå¯¸

---

## ğŸ¯ éŠæˆ²è¦å‰‡

### åŸºæœ¬è¦å‰‡

1. **è¼ªæµè¡Œå‹•**ï¼šé›™æ–¹ç©å®¶è¼ªæµé€²è¡Œæ“ä½œ
2. **æ­é–‹æ ¼å­**ï¼šé»æ“Šæœªæ­é–‹çš„æ ¼å­ä¾†æ­é–‹å®ƒ
3. **å‚³éå›åˆ**ï¼šæ­é–‹è‡³å°‘ 1 æ ¼å¾Œï¼Œå¯ä»¥é¸æ“‡å°‡å›åˆå‚³éçµ¦å°æ‰‹
4. **å‹è² åˆ¤å®š**ï¼šè¸©åˆ°åœ°é›·çš„ç©å®¶**è½æ•—**

### è©³ç´°èªªæ˜

#### ğŸ”„ å›åˆæµç¨‹

```
ç©å®¶ A çš„å›åˆ
    â†“
æ­é–‹æ ¼å­ï¼ˆå¯æ­é–‹å¤šæ ¼ï¼‰
    â†“
[é¸æ“‡] ç¹¼çºŒæ­é–‹ æˆ– å‚³éå›åˆ
    â†“
ç©å®¶ B çš„å›åˆ
    â†“
...é‡è¤‡ç›´åˆ°æœ‰äººè¸©åˆ°åœ°é›·
```

#### ğŸ“‹ å›åˆè¦å‰‡

| å‹•ä½œ | èªªæ˜ |
|------|------|
| æ­é–‹æ ¼å­ | é»æ“Šæœªæ­é–‹çš„æ ¼å­ï¼Œé¡¯ç¤ºè©²æ ¼å­çš„å…§å®¹ |
| å‚³éå›åˆ | æ­é–‹è‡³å°‘ 1 æ ¼å¾Œæ‰èƒ½å‚³é |
| å›åˆè¶…æ™‚ | è¶…æ™‚æœƒè‡ªå‹•æ­é–‹ä¸€å€‹å®‰å…¨æ ¼ä¸¦å‚³éå›åˆ |

#### ğŸ† å‹åˆ©æ¢ä»¶

- **å°æ‰‹è¸©åˆ°åœ°é›·**ï¼šå°æ‰‹æ­é–‹åœ°é›·æ ¼æ™‚ï¼Œä½ ç²å‹
- **å°æ‰‹æ–·ç·š**ï¼šå°æ‰‹é›¢ç·šæ™‚ï¼Œä½ ç²å‹
- **å…¨éƒ¨æ­é–‹**ï¼šæ‰€æœ‰å®‰å…¨æ ¼éƒ½è¢«æ­é–‹æ™‚ï¼Œæœ€å¾Œå‚³éå›åˆçš„ç©å®¶ç²å‹

#### ğŸ’¡ å°æŠ€å·§

1. **ç¬¬ä¸€ä¸‹å®‰å…¨**ï¼šéŠæˆ²çš„ç¬¬ä¸€æ¬¡é»æ“Šä¿è­‰ä¸æœƒè¸©åˆ°åœ°é›·
2. **è‡ªå‹•å±•é–‹**ï¼šæ­é–‹å‘¨åœæ²’æœ‰åœ°é›·çš„æ ¼å­ï¼ˆé¡¯ç¤º 0ï¼‰æ™‚ï¼Œæœƒè‡ªå‹•å±•é–‹ç›¸é„°çš„å®‰å…¨å€åŸŸ
3. **æ’æ——æ¨™è¨˜**ï¼šå³éµé»æ“Šå¯ä»¥æ¨™è¨˜ä½ æ‡·ç–‘æœ‰åœ°é›·çš„æ ¼å­
4. **è§€å¯Ÿæ•¸å­—**ï¼šæ•¸å­—ä»£è¡¨è©²æ ¼å‘¨åœ 8 æ ¼ä¸­æœ‰å¹¾é¡†åœ°é›·

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç³»çµ±éœ€æ±‚

- **Node.js** 18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm** æˆ– **yarn** å¥—ä»¶ç®¡ç†å™¨
- æ”¯æ´ WebGL çš„ç¾ä»£ç€è¦½å™¨ï¼ˆChromeã€Firefoxã€Edgeã€Safariï¼‰

### å®‰è£æ­¥é©Ÿ

1. **è¤‡è£½å°ˆæ¡ˆ**

```bash
git clone https://github.com/your-username/multiplayer-minesweeper.git
cd multiplayer-minesweeper
```

2. **å®‰è£ä¾è³´**

```bash
npm install
```

3. **å•Ÿå‹•ä¼ºæœå™¨**

```bash
# é–‹ç™¼æ¨¡å¼ï¼ˆè‡ªå‹•é‡è¼‰ï¼‰
npm run dev

# ç”Ÿç”¢æ¨¡å¼
npm start
```

4. **é–‹å•ŸéŠæˆ²**

åœ¨ç€è¦½å™¨é–‹å•Ÿ `http://localhost:3000`

### é–‹å§‹å°æˆ°

1. **å»ºç«‹æˆ¿é–“**
   - è¼¸å…¥ä½ çš„åç¨±
   - é¸æ“‡éŠæˆ²è¨­å®šï¼ˆç¶²æ ¼å¤§å°ã€åœ°é›·æ•¸é‡ã€å›åˆæ™‚é–“ï¼‰
   - é»æ“Šã€Œå»ºç«‹æˆ¿é–“ã€
   - å°‡æˆ¿é–“ä»£ç¢¼åˆ†äº«çµ¦æœ‹å‹

2. **åŠ å…¥æˆ¿é–“**
   - è¼¸å…¥ä½ çš„åç¨±
   - è¼¸å…¥æœ‹å‹æä¾›çš„ 6 ä½æˆ¿é–“ä»£ç¢¼
   - é»æ“Šã€ŒåŠ å…¥æˆ¿é–“ã€

3. **é–‹å§‹éŠæˆ²**
   - é›™æ–¹é€²å…¥æˆ¿é–“å¾ŒéŠæˆ²è‡ªå‹•é–‹å§‹
   - æˆ¿ä¸»ï¼ˆHostï¼‰å…ˆæ‰‹

---

## ğŸ“ å°ˆæ¡ˆæ¶æ§‹

```
multiplayer-minesweeper/
â”œâ”€â”€ index.html              # å‰ç«¯ä¸»é é¢
â”œâ”€â”€ script.js               # å‰ç«¯ä¸»ç¨‹å¼ï¼ˆThree.js + Socket.IO å®¢æˆ¶ç«¯ï¼‰
â”œâ”€â”€ package.json            # å°ˆæ¡ˆè¨­å®šèˆ‡ä¾è³´
â”œâ”€â”€ PRD.md                  # ç”¢å“éœ€æ±‚æ–‡ä»¶
â”œâ”€â”€ LICENSE                 # MIT æˆæ¬Šæ¢æ¬¾
â”œâ”€â”€ README.md               # æœ¬æ–‡ä»¶
â””â”€â”€ server/                 # å¾Œç«¯ä¼ºæœå™¨
    â”œâ”€â”€ index.js            # ä¼ºæœå™¨å…¥å£é»
    â”œâ”€â”€ config.js           # éŠæˆ²åƒæ•¸è¨­å®š
    â”œâ”€â”€ gameEngine.js       # éŠæˆ²é‚è¼¯æ ¸å¿ƒå¼•æ“
    â”œâ”€â”€ roomManager.js      # æˆ¿é–“ç®¡ç†ç³»çµ±
    â””â”€â”€ socketHandler.js    # WebSocket äº‹ä»¶è™•ç†å™¨
```

### æ¨¡çµ„èªªæ˜

#### å‰ç«¯ (`script.js`)

| é¡åˆ¥ | è·è²¬ |
|------|------|
| `GameRenderer` | Three.js 3D å ´æ™¯æ¸²æŸ“ã€æ ¼å­å»ºç«‹ã€å‹•ç•«æ•ˆæœ |
| `MultiplayerClient` | Socket.IO å®¢æˆ¶ç«¯ã€äº‹ä»¶æ”¶ç™¼ |
| `GameController` | æ•´åˆæ§åˆ¶ã€UI æ›´æ–°ã€éŠæˆ²æµç¨‹ç®¡ç† |

#### å¾Œç«¯ (`server/`)

| æª”æ¡ˆ | è·è²¬ |
|------|------|
| `index.js` | Express ä¼ºæœå™¨è¨­å®šã€éœæ…‹æª”æ¡ˆæœå‹™ |
| `config.js` | éŠæˆ²åƒæ•¸é…ç½®ï¼ˆç¶²æ ¼å¤§å°ã€åœ°é›·æ•¸ã€æ™‚é–“é™åˆ¶ç­‰ï¼‰ |
| `gameEngine.js` | éŠæˆ²é‚è¼¯æ ¸å¿ƒï¼ˆç¶²æ ¼ç”Ÿæˆã€æ­é–‹ã€å‹è² åˆ¤å®šã€è¨ˆæ™‚ï¼‰ |
| `roomManager.js` | æˆ¿é–“ CRUDã€ç©å®¶ç®¡ç†ã€æˆ¿é–“æ¸…ç† |
| `socketHandler.js` | WebSocket äº‹ä»¶è·¯ç”±èˆ‡è™•ç† |

---

## ğŸ”§ æŠ€è¡“ç´°ç¯€

### ä½¿ç”¨æŠ€è¡“

| é¡åˆ¥ | æŠ€è¡“ |
|------|------|
| å‰ç«¯æ¡†æ¶ | åŸç”Ÿ JavaScript (ES6+) |
| 3D æ¸²æŸ“ | Three.js |
| å³æ™‚é€šè¨Š | Socket.IO |
| å¾Œç«¯æ¡†æ¶ | Express.js |
| æ¨¡çµ„ç³»çµ± | ES Modules |

### Socket äº‹ä»¶æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        éŠæˆ²æµç¨‹                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Client A                 Server                 Client B   â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â”‚     â”‚â”€â”€ create_room â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚       â”‚
â”‚     â”‚<â”€â”€â”€â”€ room_created â”€â”€â”€â”€â”‚                       â”‚       â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â”‚     â”‚                       â”‚<â”€â”€â”€â”€â”€ join_room â”€â”€â”€â”€â”€â”€â”‚       â”‚
â”‚     â”‚                       â”‚â”€â”€â”€â”€â”€â”€ room_joined â”€â”€â”€>â”‚       â”‚
â”‚     â”‚<â”€â”€â”€â”€ player_joined â”€â”€â”€â”‚                       â”‚       â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â”‚     â”‚<â”€â”€â”€â”€ game_start â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€ game_start â”€â”€â”€â”€>â”‚       â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â”‚     â”‚â”€â”€ reveal_tile â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚       â”‚
â”‚     â”‚<â”€â”€â”€â”€ tile_revealed â”€â”€â”€â”‚â”€â”€â”€â”€ tile_revealed â”€â”€â”€>â”‚       â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â”‚     â”‚â”€â”€ pass_turn â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚       â”‚
â”‚     â”‚<â”€â”€â”€â”€ turn_changed â”€â”€â”€â”€â”‚â”€â”€â”€â”€ turn_changed â”€â”€â”€â”€>â”‚       â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â”‚     â”‚                       â”‚<â”€â”€â”€â”€â”€ reveal_tile â”€â”€â”€â”€â”‚       â”‚
â”‚     â”‚<â”€â”€â”€â”€ tile_revealed â”€â”€â”€â”‚â”€â”€â”€â”€ tile_revealed â”€â”€â”€>â”‚       â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â”‚     â”‚      ... é‡è¤‡ç›´åˆ°éŠæˆ²çµæŸ ...                    â”‚       â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â”‚     â”‚<â”€â”€â”€â”€ game_over â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€ game_over â”€â”€â”€â”€â”€>â”‚       â”‚
â”‚     â”‚                       â”‚                       â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸»è¦äº‹ä»¶

| äº‹ä»¶åç¨± | æ–¹å‘ | èªªæ˜ |
|----------|------|------|
| `create_room` | Client â†’ Server | å»ºç«‹æ–°æˆ¿é–“ |
| `room_created` | Server â†’ Client | æˆ¿é–“å»ºç«‹æˆåŠŸå›æ‡‰ |
| `join_room` | Client â†’ Server | åŠ å…¥ç¾æœ‰æˆ¿é–“ |
| `room_joined` | Server â†’ Client | åŠ å…¥æˆ¿é–“æˆåŠŸå›æ‡‰ |
| `player_joined` | Server â†’ Client | é€šçŸ¥æˆ¿ä¸»æœ‰ç©å®¶åŠ å…¥ |
| `game_start` | Server â†’ Client | éŠæˆ²é–‹å§‹ï¼ŒåŒ…å«åˆå§‹ç‹€æ…‹ |
| `reveal_tile` | Client â†’ Server | æ­é–‹æŒ‡å®šæ ¼å­ |
| `tile_revealed` | Server â†’ Client | å»£æ’­æ­é–‹çµæœ |
| `pass_turn` | Client â†’ Server | å‚³éå›åˆ |
| `turn_changed` | Server â†’ Client | å»£æ’­å›åˆåˆ‡æ› |
| `timer_update` | Server â†’ Client | è¨ˆæ™‚å™¨æ›´æ–° |
| `game_over` | Server â†’ Client | éŠæˆ²çµæŸï¼ŒåŒ…å«å‹è² è³‡è¨Š |
| `request_restart` | Client â†’ Server | è«‹æ±‚é‡æ–°é–‹å§‹ |

### éŠæˆ²å¼•æ“æ ¸å¿ƒé‚è¼¯

#### ç¶²æ ¼ç”Ÿæˆèˆ‡åœ°é›·ä½ˆç½®

```javascript
// 1. åˆå§‹åŒ–ç©ºç¶²æ ¼
generateGrid() â†’ å»ºç«‹ gridSize x gridSize çš„ç©ºç¶²æ ¼

// 2. ç¬¬ä¸€æ¬¡é»æ“Šæ™‚ä½ˆç½®åœ°é›·ï¼ˆä¿è­‰é¦–æ¬¡é»æ“Šå®‰å…¨ï¼‰
placeMines(safeX, safeZ) â†’ åœ¨é¿é–‹å®‰å…¨å€åŸŸçš„ä½ç½®éš¨æ©Ÿä½ˆç½®åœ°é›·

// 3. è¨ˆç®—æ¯æ ¼å‘¨åœçš„åœ°é›·æ•¸
countNeighborMines(x, z) â†’ å›å‚³æŒ‡å®šä½ç½®å‘¨åœ 8 æ ¼çš„åœ°é›·ç¸½æ•¸
```

#### è‡ªå‹•å±•é–‹æ©Ÿåˆ¶

ç•¶æ­é–‹çš„æ ¼å­ `neighborMines === 0` æ™‚ï¼Œéè¿´å±•é–‹å‘¨åœ 8 æ ¼ï¼š

```javascript
doReveal(x, z) {
    // æ¨™è¨˜ç‚ºå·²æ­é–‹
    tile.isRevealed = true;

    // å¦‚æœå‘¨åœæ²’æœ‰åœ°é›·ï¼Œè‡ªå‹•å±•é–‹ç›¸é„°æ ¼å­
    if (neighborMines === 0) {
        for (dx = -1 to 1) {
            for (dz = -1 to 1) {
                doReveal(x + dx, z + dz);  // éè¿´å±•é–‹
            }
        }
    }
}
```

#### é˜²ä½œå¼Šæ©Ÿåˆ¶

- å‰ç«¯ä¸å­˜å„²åœ°é›·ä½ç½®ï¼Œæ‰€æœ‰åœ°é›·è³‡è¨Šç”±ä¼ºæœå™¨æ§åˆ¶
- `getClientGrid()` æ–¹æ³•æœƒéæ¿¾æœªæ­é–‹æ ¼å­çš„åœ°é›·è³‡è¨Š
- æ‰€æœ‰éŠæˆ²æ“ä½œéƒ½ç¶“éä¼ºæœå™¨é©—è­‰

---

## âš™ï¸ è¨­å®šèª¿æ•´

### éŠæˆ²åƒæ•¸

ä¿®æ”¹ `server/config.js` ä¾†èª¿æ•´éŠæˆ²è¨­å®šï¼š

```javascript
export const CONFIG = {
    // å›åˆæ™‚é–“é™åˆ¶ï¼ˆç§’ï¼‰
    TURN_TIME_LIMIT: 30,

    // ç¶²æ ¼å¤§å°ï¼ˆé è¨­ 10x10ï¼‰
    GRID_SIZE: 10,

    // é è¨­åœ°é›·æ•¸é‡
    DEFAULT_MINES_COUNT: 10,

    // å‚³éå›åˆå‰æœ€å°‘æ­é–‹æ ¼æ•¸
    MIN_REVEALS_TO_PASS: 1,

    // æˆ¿é–“ä»£ç¢¼é•·åº¦
    ROOM_CODE_LENGTH: 6,

    // ä¼ºæœå™¨é€£æ¥åŸ 
    PORT: 3000,

    // æˆ¿é–“é–’ç½®è¶…æ™‚æ™‚é–“ï¼ˆæ¯«ç§’ï¼‰
    ROOM_IDLE_TIMEOUT: 30 * 60 * 1000  // 30 åˆ†é˜
};
```

### åƒæ•¸èªªæ˜

| åƒæ•¸ | èªªæ˜ | å»ºè­°ç¯„åœ |
|------|------|----------|
| `TURN_TIME_LIMIT` | æ¯å›åˆçš„æ™‚é–“é™åˆ¶ï¼ˆç§’ï¼‰ | 15-60 |
| `GRID_SIZE` | éŠæˆ²ç¶²æ ¼å¤§å° | 8-15 |
| `DEFAULT_MINES_COUNT` | åœ°é›·æ•¸é‡ | ç¶²æ ¼å¤§å°çš„ 10-20% |
| `MIN_REVEALS_TO_PASS` | å‚³éå›åˆå‰æœ€å°‘éœ€æ­é–‹çš„æ ¼æ•¸ | 1-3 |
| `ROOM_IDLE_TIMEOUT` | æˆ¿é–“é–’ç½®å¤šä¹…å¾Œè‡ªå‹•æ¸…ç† | æ ¹æ“šéœ€æ±‚èª¿æ•´ |

### é›£åº¦å»ºè­°

| é›£åº¦ | ç¶²æ ¼å¤§å° | åœ°é›·æ•¸é‡ | åœ°é›·å¯†åº¦ |
|------|----------|----------|----------|
| ç°¡å–® | 8x8 | 8 | 12.5% |
| ä¸­ç­‰ | 10x10 | 15 | 15% |
| å›°é›£ | 12x12 | 25 | 17.4% |
| å°ˆå®¶ | 15x15 | 40 | 17.8% |

---

## ğŸ¨ 3D å ´æ™¯èªªæ˜

### åº§æ¨™ç³»çµ±

- **X è»¸**ï¼šæ°´å¹³æ–¹å‘ï¼ˆå·¦å³ï¼‰
- **Y è»¸**ï¼šå‚ç›´æ–¹å‘ï¼ˆé«˜åº¦ï¼‰
- **Z è»¸**ï¼šæ·±åº¦æ–¹å‘ï¼ˆå‰å¾Œï¼‰

æ ¼å­ä½¿ç”¨ `(x, z)` åº§æ¨™ï¼Œ`y` è»¸ç”¨æ–¼é«˜åº¦è®ŠåŒ–å’Œå‹•ç•«æ•ˆæœã€‚

### è¦–è¦ºå…ƒç´ 

| å…ƒç´  | èªªæ˜ |
|------|------|
| ğŸŸ© ç¶ è‰²æ–¹å¡Š | æœªæ­é–‹çš„æ ¼å­ |
| ğŸŸ« è¤è‰²æ–¹å¡Š | å·²æ­é–‹çš„ç©ºç™½æ ¼å­ |
| ğŸ”¢ æ•¸å­— | é¡¯ç¤ºå‘¨åœåœ°é›·æ•¸é‡ï¼ˆ1-8ï¼‰ |
| ğŸ’£ ç‚¸å½ˆ | åœ°é›·ï¼ˆè¸©åˆ°æ™‚æœƒçˆ†ç‚¸ï¼‰ |
| ğŸš© æ——å­ | ç©å®¶æ¨™è¨˜çš„å¯ç–‘ä½ç½® |

### äº’å‹•æ“ä½œ

| æ“ä½œ | å‹•ä½œ |
|------|------|
| å·¦éµé»æ“Š | æ­é–‹æ ¼å­ |
| å³éµé»æ“Š | æ’æ——/å–æ¶ˆæ——å­ |
| æ‹–æ›³ | æ—‹è½‰è¦–è§’ |
| æ»¾è¼ª | ç¸®æ”¾è¦–è§’ |

---

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

### é–‹ç™¼æ¨¡å¼

```bash
npm run dev
```

æ­¤æ¨¡å¼ä½¿ç”¨ `--watch` åƒæ•¸ï¼Œç•¶å¾Œç«¯ç¨‹å¼ç¢¼è®Šæ›´æ™‚æœƒè‡ªå‹•é‡è¼‰ä¼ºæœå™¨ã€‚

### å°ˆæ¡ˆçµæ§‹èªªæ˜

#### å‰ç«¯é¡åˆ¥æ¶æ§‹

```javascript
// GameRenderer - 3D æ¸²æŸ“
class GameRenderer {
    init()              // åˆå§‹åŒ– Three.js å ´æ™¯
    createGrid()        // å»ºç«‹éŠæˆ²ç¶²æ ¼
    revealTile()        // æ­é–‹å–®ä¸€æ ¼å­
    createMine()        // å»ºç«‹åœ°é›·æ¨¡å‹
    createExplosion()   // å»ºç«‹çˆ†ç‚¸ç‰¹æ•ˆ
    toggleFlag()        // åˆ‡æ›æ——å­ç‹€æ…‹
}

// MultiplayerClient - ç¶²è·¯é€šè¨Š
class MultiplayerClient {
    connect()           // é€£æ¥ä¼ºæœå™¨
    createRoom()        // å»ºç«‹æˆ¿é–“
    joinRoom()          // åŠ å…¥æˆ¿é–“
    revealTile()        // ç™¼é€æ­é–‹è«‹æ±‚
    passTurn()          // ç™¼é€å‚³éå›åˆè«‹æ±‚
}

// GameController - éŠæˆ²æ§åˆ¶
class GameController {
    init()              // åˆå§‹åŒ–éŠæˆ²
    startGame()         // é–‹å§‹éŠæˆ²
    updateUI()          // æ›´æ–°ä½¿ç”¨è€…ä»‹é¢
    handleGameOver()    // è™•ç†éŠæˆ²çµæŸ
}
```

#### å¾Œç«¯æ¨¡çµ„æ¶æ§‹

```javascript
// gameEngine.js - éŠæˆ²é‚è¼¯
class GameEngine {
    generateGrid()      // ç”Ÿæˆç¶²æ ¼
    placeMines()        // ä½ˆç½®åœ°é›·
    revealTile()        // æ­é–‹æ ¼å­ï¼ˆå«é©—è­‰ï¼‰
    passTurn()          // å‚³éå›åˆ
    checkWinCondition() // æª¢æŸ¥å‹åˆ©æ¢ä»¶
    handleTimeout()     // è™•ç†è¶…æ™‚
}

// roomManager.js - æˆ¿é–“ç®¡ç†
createRoom()            // å»ºç«‹æˆ¿é–“
joinRoom()              // åŠ å…¥æˆ¿é–“
leaveRoom()             // é›¢é–‹æˆ¿é–“
getRoomBySocketId()     // é€é Socket ID å–å¾—æˆ¿é–“
getPlayerRole()         // å–å¾—ç©å®¶è§’è‰²ï¼ˆhost/guestï¼‰

// socketHandler.js - äº‹ä»¶è™•ç†
setupSocketHandlers()   // è¨­å®šæ‰€æœ‰ Socket.IO äº‹ä»¶ç›£è½
```

### ç¨‹å¼ç¢¼é¢¨æ ¼

- ä½¿ç”¨ ES6+ èªæ³•
- æ¨¡çµ„ä½¿ç”¨ ES Modules (`import`/`export`)
- ä½¿ç”¨ JSDoc è¨»è§£è¨˜éŒ„å‡½å¼åƒæ•¸èˆ‡å›å‚³å€¼
- ç©å®¶è§’è‰²ä½¿ç”¨å­—ä¸² `'host'` å’Œ `'guest'` è­˜åˆ¥

---

## ğŸ“ API åƒè€ƒ

### å¥åº·æª¢æŸ¥

```
GET /health
```

å›æ‡‰ï¼š
```json
{
    "status": "ok",
    "timestamp": 1700000000000
}
```

### WebSocket äº‹ä»¶è©³ç´°è¦æ ¼

#### `create_room`

è«‹æ±‚ï¼š
```javascript
{
    playerName: "ç©å®¶åç¨±",
    settings: {
        gridSize: 10,      // å¯é¸
        minesCount: 15,    // å¯é¸
        turnTimeLimit: 30  // å¯é¸
    }
}
```

å›æ‡‰ï¼ˆ`room_created`ï¼‰ï¼š
```javascript
{
    success: true,
    roomCode: "ABC123",
    player: {
        role: "host",
        name: "ç©å®¶åç¨±"
    },
    settings: {
        gridSize: 10,
        minesCount: 15,
        turnTimeLimit: 30
    }
}
```

#### `reveal_tile`

è«‹æ±‚ï¼š
```javascript
{
    x: 5,  // æ ¼å­ X åº§æ¨™
    z: 3   // æ ¼å­ Z åº§æ¨™
}
```

å›æ‡‰ï¼ˆ`tile_revealed`ï¼‰ï¼š
```javascript
{
    x: 5,
    z: 3,
    player: "host",
    hitMine: false,
    revealedTiles: [
        { x: 5, z: 3, isMine: false, neighborMines: 2 },
        // ... å¯èƒ½åŒ…å«è‡ªå‹•å±•é–‹çš„æ ¼å­
    ],
    canPass: true,
    revealsThisTurn: 1,
    scores: { host: 10, guest: 0 },
    timeRemaining: 28
}
```

#### `game_over`

```javascript
{
    winner: "guest",
    loser: "host",
    reason: "hit_mine",  // æˆ– "all_safe_revealed" æˆ– "opponent_disconnected"
    scores: { host: 50, guest: 80 },
    allMines: [
        { x: 2, z: 4 },
        { x: 7, z: 1 },
        // ... æ‰€æœ‰åœ°é›·ä½ç½®
    ]
}
```

---

## â“ å¸¸è¦‹å•é¡Œ

### Q: ç‚ºä»€éº¼ç¬¬ä¸€æ¬¡é»æ“Šä¸æœƒè¸©åˆ°åœ°é›·ï¼Ÿ

A: éŠæˆ²æ¡ç”¨ã€Œé¦–æ¬¡é»æ“Šå®‰å…¨ã€æ©Ÿåˆ¶ã€‚åœ°é›·åœ¨ç¬¬ä¸€æ¬¡é»æ“Šå¾Œæ‰æœƒä½ˆç½®ï¼Œä¸¦æœƒé¿é–‹é»æ“Šä½ç½®åŠå…¶å‘¨åœ 8 æ ¼ï¼Œç¢ºä¿ç©å®¶çš„ç¬¬ä¸€ä¸‹ä¸€å®šæ˜¯å®‰å…¨çš„ã€‚

### Q: ç‚ºä»€éº¼å°æ‰‹çœ‹ä¸åˆ°æˆ‘æ¨™è¨˜çš„æ——å­ï¼Ÿ

A: æ——å­æ¨™è¨˜æ˜¯æœ¬åœ°åŠŸèƒ½ï¼Œåƒ…ä¾›ç©å®¶è‡ªå·±è¨˜æ†¶å¯ç–‘ä½ç½®ï¼Œä¸æœƒåŒæ­¥çµ¦å°æ‰‹ã€‚é€™æ˜¯è¨­è¨ˆä¸Šçš„è€ƒé‡ï¼Œé¿å…é€éœ²ç­–ç•¥çµ¦å°æ‰‹ã€‚

### Q: å›åˆè¶…æ™‚æœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿ

A: è¶…æ™‚æ™‚ï¼Œç³»çµ±æœƒè‡ªå‹•åœ¨å®‰å…¨æ ¼ä¸­éš¨æ©Ÿæ­é–‹ä¸€æ ¼ï¼Œç„¶å¾Œå°‡å›åˆå‚³éçµ¦å°æ‰‹ã€‚å¦‚æœæ²’æœ‰å®‰å…¨æ ¼å¯æ­é–‹ï¼Œå‰‡æœƒæ­é–‹åœ°é›·ï¼ˆå°è‡´è¶…æ™‚ç©å®¶è½æ•—ï¼‰ã€‚

### Q: å¯ä»¥å¤šäººï¼ˆè¶…é 2 äººï¼‰éŠç©å—ï¼Ÿ

A: ç›®å‰åƒ…æ”¯æ´é›™äººå°æˆ°ã€‚å¤šäººæ¨¡å¼å¯èƒ½åœ¨æœªä¾†ç‰ˆæœ¬ä¸­åŠ å…¥ã€‚

### Q: å¦‚ä½•éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒï¼Ÿ

A:
1. è¨­å®šç’°å¢ƒè®Šæ•¸ `PORT` ä¾†æŒ‡å®šé€£æ¥åŸ 
2. ä½¿ç”¨ `npm start` å•Ÿå‹•ä¼ºæœå™¨
3. å»ºè­°æ­é… PM2 æˆ– Docker é€²è¡Œç¨‹åºç®¡ç†
4. å¦‚éœ€ HTTPSï¼Œè«‹åœ¨å‰ç«¯ä½¿ç”¨åå‘ä»£ç†ï¼ˆå¦‚ Nginxï¼‰

---

## ğŸ“œ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT æˆæ¬Š](LICENSE)ã€‚

---

## ğŸ‘¨â€ğŸ’» ä½œè€…

**Will ä¿å“¥**

---

## ğŸ™ è‡´è¬

- [Three.js](https://threejs.org/) - 3D åœ–å½¢åº«
- [Socket.IO](https://socket.io/) - å³æ™‚é€šè¨Šæ¡†æ¶
- [Express.js](https://expressjs.com/) - Web æ‡‰ç”¨æ¡†æ¶

---

<div align="center">

**ğŸ® ç¥æ‚¨éŠæˆ²æ„‰å¿«ï¼**

*å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿é–‹å•Ÿ Issue æˆ– Pull Request*

</div>
